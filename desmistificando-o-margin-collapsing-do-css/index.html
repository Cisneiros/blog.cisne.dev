<!DOCTYPE html><html lang="pt-BR" class=" "><head><meta name="generator" content="React Static"/><title data-react-helmet="true">Desmistificando o margin collapsing do CSS · Cisne.dev blog</title><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="Cisneiros"/><meta data-react-helmet="true" property="og:title" content="Desmistificando o margin collapsing do CSS · Cisne.dev blog"/><meta data-react-helmet="true" property="og:image" content="https://blog.cisne.dev/desmistificando-o-margin-collapsing-do-css/social-image.png"/><meta data-react-helmet="true" name="twitter:title" content="Desmistificando o margin collapsing do CSS · Cisne.dev blog"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.cisne.dev/desmistificando-o-margin-collapsing-do-css/social-image.png"/><link rel="preload" as="script" href="/templates/vendors~__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.207edc50.js"/><link rel="preload" as="script" href="/templates/__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.a04ea84b.js"/><link rel="preload" as="script" href="/templates/__react_static_root__/src/containers/post.d8dd52db.js"/><link rel="preload" as="script" href="/templates/vendors~main.272ae1d1.js"/><link rel="preload" as="script" href="/main.f19d4c14.js"/><link data-react-helmet="true" rel="stylesheet" href="//unpkg.com/dracula-prism/dist/css/dracula-prism.min.css"/><style data-styled="" data-styled-version="5.1.1">.CfxHf{max-width:960px;margin:0 auto;position:relative;}/*!sc*/
data-styled.g1[id="ui__Fit-prwz6b-0"]{content:"CfxHf,"}/*!sc*/
.iuDFSN{padding:1rem;color:var(--color-mid);text-align:center;font-size:1.5rem;}/*!sc*/
.iuDFSN a,.iuDFSN a:hover{-webkit-text-decoration:none;text-decoration:none;color:inherit;}/*!sc*/
data-styled.g2[id="Navigation__Container-sc-1yk0pqp-0"]{content:"iuDFSN,"}/*!sc*/
.izuwCZ{max-width:960px;margin:0 auto;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g3[id="Navigation__NavFit-sc-1yk0pqp-1"]{content:"izuwCZ,"}/*!sc*/
.TctaC{width:2.5rem;height:1.2em;overflow:hidden;--default-rotation:-180deg;}/*!sc*/
@media (prefers-color-scheme:dark){.TctaC{--default-rotation:0;}}/*!sc*/
data-styled.g4[id="Navigation__BrightnessContainer-sc-1yk0pqp-2"]{content:"TctaC,"}/*!sc*/
.sLeDt{-webkit-transform:rotate(var(--default-rotation));-ms-transform:rotate(var(--default-rotation));transform:rotate(var(--default-rotation));-webkit-transition:-webkit-transform 0.3s ease-out;-webkit-transition:transform 0.3s ease-out;transition:transform 0.3s ease-out;}/*!sc*/
html.light .sLeDt{-webkit-transform:rotate(-180deg);-ms-transform:rotate(-180deg);transform:rotate(-180deg);}/*!sc*/
html.dark .sLeDt{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}/*!sc*/
data-styled.g5[id="Navigation__BrightnessSpinner-sc-1yk0pqp-3"]{content:"sLeDt,"}/*!sc*/
.frsARl{background:none;border:none;cursor:pointer;}/*!sc*/
.frsARl:last-child{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}/*!sc*/
data-styled.g7[id="Navigation__BrightnessIcon-sc-1yk0pqp-5"]{content:"frsARl,"}/*!sc*/
.gdHjSq{margin-top:3rem;padding:1rem;background:var(--color-foreground);color:var(--color-background);}/*!sc*/
.gdHjSq a{color:var(--text-inverse-color-1);}/*!sc*/
.gdHjSq a:hover{color:var(--text-inverse-color-3);}/*!sc*/
data-styled.g8[id="Footer__Container-b3q04c-0"]{content:"gdHjSq,"}/*!sc*/
.layJcq{max-width:960px;margin:0 auto;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g9[id="Footer__FooterFit-b3q04c-1"]{content:"layJcq,"}/*!sc*/
*{box-sizing:border-box;margin:0;padding:0;border:0;font-size:inherit;font-weight:inherit;font-style:inherit;}/*!sc*/
:root{--color-1:#12c2e9;--color-2:#c471ed;--color-3:#f64f59;--color-1-darker:#0A7B94;--color-2-darker:#AE3CE7;--color-3-darker:#E90C1B;--color-light:#fefefe;--color-dark:#030303;--color-mid-dark:#747481;--color-mid-light:#818181;--font-weight-light:300;--font-weight-regular:400;--font-weight-heavy:500;--font-family-light:"HelveticaNeue-Light","Helvetica Neue Light",'Helvetica Neue',sans-serif;--font-family:'Helvetica Neue',sans-serif;}/*!sc*/
strong,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);}/*!sc*/
html{font-family:var(--font-family-light);font-size:20px;line-height:1;color:var(--color-foreground);background-color:var(--color-background);text-rendering:optimizeLegibility;}/*!sc*/
@media (max-width:600px){html{font-size:16px;}}/*!sc*/
html,html.light{--color-background:var(--color-light);--color-foreground:var(--color-dark);--color-mid:var(--color-mid-dark);--text-color-1:var(--color-1-darker);--text-color-2:var(--color-2-darker);--text-color-3:var(--color-3-darker);--text-inverse-color-1:var(--color-1);--text-inverse-color-2:var(--color-2);--text-inverse-color-3:var(--color-3);}/*!sc*/
html.dark{--color-background:var(--color-dark);--color-foreground:var(--color-light);--color-mid:var(--color-mid-light);--text-color-1:var(--color-1);--text-color-2:var(--color-2);--text-color-3:var(--color-3);--text-inverse-color-1:var(--color-1-darker);--text-inverse-color-2:var(--color-2-darker);--text-inverse-color-3:var(--color-3-darker);}/*!sc*/
@media (prefers-color-scheme:dark){html{--color-background:var(--color-dark);--color-foreground:var(--color-light);--color-mid:var(--color-mid-light);}}/*!sc*/
body{font-size:1em;font-weight:var(--font-weight-light);}/*!sc*/
strong{font-weight:var(--font-weight-heavy);}/*!sc*/
em{font-style:italic;}/*!sc*/
main{padding:1rem;}/*!sc*/
hr{width:30%;margin:4rem auto;border:none;border-bottom:dotted 1px var(--color-1);}/*!sc*/
.pagination{text-align:center;}/*!sc*/
.pagination a{color:var(--text-color-1);}/*!sc*/
.pagination a:hover{color:var(--text-color-3);}/*!sc*/
a{color:var(--text-color-1);-webkit-text-decoration-color:#c471ed80;text-decoration-color:#c471ed80;-webkit-text-decoration-style:wavy;text-decoration-style:wavy;}/*!sc*/
a:hover{color:var(--text-color-3);-webkit-text-decoration-color:#12c2e980;text-decoration-color:#12c2e980;}/*!sc*/
.phone-mockup{max-width:15rem;margin:0 auto 1rem;position:relative;}/*!sc*/
.phone-mockup::before{content:'';width:100%;height:100%;position:absolute;pointer-events:none;background:url(/iphone-11-pro.png) no-repeat;background-size:contain;}/*!sc*/
.phone-mockup video,.phone-mockup img{width:100%;padding:9.3%;}/*!sc*/
data-styled.g14[id="sc-global-hFBrmQ1"]{content:"sc-global-hFBrmQ1,"}/*!sc*/
.jLFdFk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.jLFdFk .sources{width:100%;min-width:0;}/*!sc*/
.jLFdFk .result{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:30%;margin-left:2rem;}/*!sc*/
.jLFdFk.result-first{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}/*!sc*/
.jLFdFk.result-first .result{-webkit-order:0;-ms-flex-order:0;order:0;margin:0 0 1rem;max-width:initial;}/*!sc*/
.jLFdFk.result-first .sources{-webkit-order:1;-ms-flex-order:1;order:1;}/*!sc*/
@media (max-width:600px){.jLFdFk{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.jLFdFk .result{max-width:initial;margin-left:0;margin-top:1rem;}}/*!sc*/
data-styled.g16[id="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1"]{content:"jLFdFk,"}/*!sc*/
.gekmhB{display:grid;grid-template-columns:1fr 1fr;-webkit-column-gap:1em;column-gap:1em;row-gap:1em;margin:1rem 0;}/*!sc*/
data-styled.g18[id="MarkdownRendererstyles__QuizAnswersContainer-i4h55e-3"]{content:"gekmhB,"}/*!sc*/
.bncLWn{margin-bottom:3rem;}/*!sc*/
data-styled.g20[id="MarkdownRendererstyles__QuizExplanationContainer-i4h55e-5"]{content:"bncLWn,"}/*!sc*/
.bepCwn .bar{margin:1em 0;width:10em;height:1em;background-color:tomato;}/*!sc*/
.lmsGbY .bar{width:10em;height:1em;background-color:forestgreen;}/*!sc*/
.lmsGbY .top{margin-bottom:1em;}/*!sc*/
.lmsGbY .bottom{margin-top:2em;}/*!sc*/
.cLRvim .parent{margin-bottom:1em;background-color:lavender;}/*!sc*/
.cLRvim .child{margin-bottom:2em;border:solid 3px indigo;color:indigo;}/*!sc*/
.cLRvim .outsider{border:solid 3px purple;color:purple;}/*!sc*/
.eduKqj .parent{margin-bottom:1em;border:solid 3px orange;background-color:lemonchiffon;}/*!sc*/
.eduKqj .child{margin-bottom:2em;border:solid 3px peru;color:peru;}/*!sc*/
.eduKqj .outsider{border:solid 3px sandybrown;color:sandybrown;}/*!sc*/
.gEqCjx .bar{width:10em;height:1em;background-color:steelblue;}/*!sc*/
.gEqCjx .empty{margin:1em 0;}/*!sc*/
.bQbMAC .bar{width:10em;height:1em;background-color:crimson;}/*!sc*/
.bQbMAC .not-empty{margin:1em 0;height:1px;background-color:pink;}/*!sc*/
.lhDIwq .bar{width:10em;height:1em;background-color:limegreen;}/*!sc*/
.lhDIwq .empty{margin:1em 0;}/*!sc*/
.eAmAkV .parent{margin-bottom:0;background-color:lavenderblush;}/*!sc*/
.eAmAkV .child{margin-bottom:2em;border:solid 3px mediumvioletred;color:mediumvioletred;}/*!sc*/
.eAmAkV .outsider{border:solid 3px orchid;color:orchid;}/*!sc*/
.daYkRh .bar{height:3em;}/*!sc*/
.daYkRh .top{width:10em;margin-bottom:1em;background-color:lightseagreen;}/*!sc*/
.daYkRh .bottom{width:5em;margin-top:-2em;background-color:lightgreen;}/*!sc*/
.hnjjwA .bar{height:3em;}/*!sc*/
.hnjjwA .top{width:10em;margin-bottom:-1em;background-color:olivedrab;}/*!sc*/
.hnjjwA .bottom{width:5em;margin-top:-2em;background-color:yellowgreen;}/*!sc*/
data-styled.g22[id="MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0"]{content:"bepCwn,lmsGbY,cLRvim,eduKqj,gEqCjx,bQbMAC,lhDIwq,eAmAkV,daYkRh,hnjjwA,"}/*!sc*/
.tuaWG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
@media (max-width:600px){.tuaWG{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}/*!sc*/
data-styled.g23[id="Poststyles__AfterPost-sc-12qb97v-0"]{content:"tuaWG,"}/*!sc*/
.gkeqUt{-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
@media (max-width:600px){.gkeqUt{text-align:center;margin-bottom:1rem;}}/*!sc*/
data-styled.g24[id="Poststyles__AfterPostChild-sc-12qb97v-1"]{content:"gkeqUt,"}/*!sc*/
.fAvgXR{-webkit-flex:1;-ms-flex:1;flex:1;text-align:right;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}/*!sc*/
@media (max-width:600px){.fAvgXR{text-align:center;margin-bottom:1rem;}}/*!sc*/
data-styled.g25[id="Poststyles__Tags-sc-12qb97v-2"]{content:"fAvgXR,"}/*!sc*/
.kSZCZX::before{content:' #';color:var(--color-mid);}/*!sc*/
data-styled.g26[id="Poststyles__Tag-sc-12qb97v-3"]{content:"kSZCZX,"}/*!sc*/
.kyWzPB{-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;}/*!sc*/
data-styled.g27[id="Poststyles__Container-sc-12qb97v-4"]{content:"kyWzPB,"}/*!sc*/
.hhBwVH{font-size:5rem;font-weight:var(--font-weight-regular);line-height:0.8;background:linear-gradient(var(--color-1),var(--color-2),var(--color-3));-webkit-text-fill-color:transparent;background-clip:text;-webkit-background-clip:text;padding-bottom:1rem;margin:1rem 0;}/*!sc*/
html.rainbow .hhBwVH{background-image:linear-gradient(124deg,#ff2400,#e81d1d,#e8b71d,#e3e81d,#1de840,#1ddde8,#2b1de8,#dd00f3,#dd00f3);-webkit-animation:hTUzwZ 9s ease infinite;animation:hTUzwZ 9s ease infinite;background-size:450% 450%;}/*!sc*/
@media (max-width:600px){.hhBwVH{font-size:3.5rem;}}/*!sc*/
.hhBwVH a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g28[id="Poststyles__Title-sc-12qb97v-5"]{content:"hhBwVH,"}/*!sc*/
.fonWHZ{color:var(--color-mid);text-align:center;margin-bottom:2rem;}/*!sc*/
data-styled.g29[id="Poststyles__Meta-sc-12qb97v-6"]{content:"fonWHZ,"}/*!sc*/
.jhgzPU{line-height:1.6;}/*!sc*/
.jhgzPU h2{font-size:2.5rem;}/*!sc*/
.jhgzPU h3{font-size:2rem;}/*!sc*/
.jhgzPU h4{font-size:1.5rem;}/*!sc*/
.jhgzPU h2,.jhgzPU h3,.jhgzPU h4,.jhgzPU h5,.jhgzPU h6{-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;font-weight:var(--font-weight-regular);line-height:0.8;padding-bottom:1rem;margin-top:2rem;}/*!sc*/
.jhgzPU img{max-width:100%;}/*!sc*/
.jhgzPU pre.refractor{margin-top:0;margin-left:0;padding-left:1rem;border-left:solid 0.25rem var(--color-1);border-radius:0;font-size:0.8rem;overflow-wrap:normal;overflow-x:auto;background-color:var(--color-dark);color:var(--color-light);padding-top:0.5rem;padding-bottom:0.5rem;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}/*!sc*/
.jhgzPU pre.refractor::-webkit-scrollbar{width:0.25rem;height:0.25rem;}/*!sc*/
.jhgzPU pre.refractor code,.jhgzPU code{font-family:'Fira Code','Menlo',monospace;}/*!sc*/
.jhgzPU p code{color:var(--text-color-3);}/*!sc*/
.jhgzPU p code,.jhgzPU h1 code,.jhgzPU h2 code,.jhgzPU h3 code,.jhgzPU h4 code,.jhgzPU h5 code,.jhgzPU h6 code{font-size:0.9em;}/*!sc*/
.jhgzPU p,.jhgzPU pre,.jhgzPU ul,.jhgzPU ol,.jhgzPU table,.jhgzPU blockquote,.jhgzPU .live-code-container{margin-bottom:1rem;}/*!sc*/
.jhgzPU twitter-widget{margin-bottom:1rem !important;}/*!sc*/
.jhgzPU p:last-child,.jhgzPU pre:last-child,.jhgzPU ul:last-child,.jhgzPU ol:last-child,.jhgzPU table:last-child,.jhgzPU blockquote:last-child,.jhgzPU .live-code-container:last-child{margin-bottom:0;}/*!sc*/
.jhgzPU ul,.jhgzPU ol{list-style:none;margin-left:1rem;counter-reset:li;}/*!sc*/
.jhgzPU li{counter-increment:li;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.jhgzPU ul li::before{content:'•';margin-right:0.5rem;color:var(--color-2);}/*!sc*/
.jhgzPU ol li::before{content:"."counter(li);margin-right:0.5rem;color:var(--color-2);font-weight:var(--font-weight-regular);width:1em;display:inline-block;margin-left:-0.5em;margin-right:0.5em;text-align:right;direction:rtl;}/*!sc*/
.jhgzPU table{margin-left:auto;margin-right:auto;border-spacing:0;font-size:0.9em;}/*!sc*/
.jhgzPU td,.jhgzPU th{border-bottom:solid 1px var(--color-2);padding:0.5rem;}/*!sc*/
.jhgzPU th{font-weight:var(--font-weight-heavy);}/*!sc*/
.jhgzPU tr:hover{background:var(--color-2);}/*!sc*/
.jhgzPU tr:last-of-type td{border-bottom:0;}/*!sc*/
.jhgzPU blockquote{padding-left:1rem;border-left:solid 0.25rem var(--color-3);color:var(--color-mid);}/*!sc*/
data-styled.g30[id="Poststyles__Content-sc-12qb97v-7"]{content:"jhgzPU,"}/*!sc*/
.jjKdZc{position:fixed;top:0;left:0;right:0;height:0.25rem;background-color:var(--color-1);-webkit-transition:opacity 0.25s ease-out;transition:opacity 0.25s ease-out;z-index:2;}/*!sc*/
data-styled.g31[id="post__ScrollTrackerContainer-gh0jqu-0"]{content:"jjKdZc,"}/*!sc*/
@-webkit-keyframes hTUzwZ{0%{background-position:0% 82%;}50%{background-position:100% 19%;}100%{background-position:0% 82%;}}/*!sc*/
@keyframes hTUzwZ{0%{background-position:0% 82%;}50%{background-position:100% 19%;}100%{background-position:0% 82%;}}/*!sc*/
data-styled.g32[id="sc-keyframes-hTUzwZ"]{content:"hTUzwZ,"}/*!sc*/
</style><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.xml"/></head><body><div id="root"><nav class="Navigation__Container-sc-1yk0pqp-0 iuDFSN"><div class="ui__Fit-prwz6b-0 Navigation__NavFit-sc-1yk0pqp-1 izuwCZ"><p class="logo"><a href="/">Cisne.dev blog</a></p><div class="Navigation__BrightnessContainer-sc-1yk0pqp-2 TctaC"><div class="Navigation__BrightnessSpinner-sc-1yk0pqp-3 sLeDt"><button title="Mudar para modo diurno" aria-label="Mudar para modo diurno" class="Navigation__ClearButton-sc-1yk0pqp-4 Navigation__BrightnessIcon-sc-1yk0pqp-5 frsARl">🌙</button><button title="Mudar para modo noturno" aria-label="Mudar para modo noturno" class="Navigation__ClearButton-sc-1yk0pqp-4 Navigation__BrightnessIcon-sc-1yk0pqp-5 frsARl">☀️</button></div></div></div></nav><main><div class="ui__Fit-prwz6b-0 CfxHf"><div><div style="width:0%;opacity:0" class="post__ScrollTrackerContainer-gh0jqu-0 jjKdZc"></div><article class="Poststyles__Container-sc-12qb97v-4 kyWzPB"><h1 class="Poststyles__Title-sc-12qb97v-5 hhBwVH"><a href="/desmistificando-o-margin-collapsing-do-css/">Desmistificando o margin collapsing do CSS</a></h1><p class="Poststyles__Meta-sc-12qb97v-6 fonWHZ">Publicado em <!-- -->3 ago 2020<!-- -->. Uns <!-- -->11<!-- --> minutos de leitura.</p><div class="Poststyles__Content-sc-12qb97v-7 jhgzPU content"><p>Um comportamento que de vez em quando me pega desprevinido de CSS é o <em>margin collapsing</em> (literalmente, &quot;desmoronamento das margens&quot;, na falta de uma tradução melhor), que é a combinação de duas margens adjacentes em uma só. É algo que faz parte da especificação mas muitas vezes passa despercebido. Agora, quando isso interfere no que queremos fazer, se você não souber o que é e como funciona, vai quebrar a cabeça para desvendar <strong>por que suas margens desaparecem</strong>. Trouxe a definição de em quais casos suas margens podem sumir e alguns exemplos para ajudar a visualizar cada um!</p><span><!-- summary-break --></span><p>Vamos começar definindo o que é margin collapsing: é a junção de duas margens adjacentes de CSS em uma só, <strong>resultando apenas na maior das margens existindo</strong>. Ou seja, nesta situação, uma das duas margens adjacentes vai <strong>desaparecer</strong>.</p><p>Há três situações em que estas margens adjacentes são criadas. Vamos olhar cada uma delas.</p><h2>Elementos irmãos adjacentes</h2><p>Se você tem dois elementos imediatamente adjacentes, ou seja, sem nada entre eles, e ambos têm margens que se encostam (por exemplo, o de cima tem <code>margin-bottom</code> e o de baixo tem <code>margin-top</code>), estas margens serão combinadas e uma delas vai se perder (a menor). Vamos ver um exemplo:</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> tomato<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 bepCwn result"><div><div class="bar"></div>
<div class="bar"></div></div></div></div><p>No exemplo acima, temos duas <code>div</code>s que têm <code>1em</code> de altura. Elas também tem o mesmo tamanho (<code>1em</code>) de margem para cima e para baixo. Talvez você esperasse que, como o elemento de cima tem uma margem de <code>1em</code> para baixo e o elemento de baixo tem uma margem de <code>1em</code> para cima, que o espaçamento resultante fosse a soma, ou seja, <code>2em</code>. Isso não acontece, e você pode notar que a separação entre os elementos tem o mesmo tamanho que a altura de cada um eles.</p><p>O tamanho das margens não precisa ser o mesmo, como foi no exemplo. Caso as margens tenham tamanhos diferentes, a maior vai prevalecer, como podemos ver abaixo:</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> forestgreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.top</span> <span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.bottom</span> <span class="token punctuation">{</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span> <span class="token comment">/* Esta é maior */</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 lmsGbY result"><div><div class="bar top"></div>
<div class="bar bottom"></div></div></div></div><p>Neste caso, a margem resultante foi <code>2em</code> (e não <code>3em</code> que seria caso fossem somadas). Essa diferença de tamanho é um pouco mais chata de perceber só olhando, mas se você estiver num PC, use o inspetor do navegador para verificar e confirmar o tamanho da margem resultante.</p><h2>Pai e filho sem separação</h2><p>Quando um elemento pai tem uma margem que está adjacente a margem de um elemento filho e <strong>não há nada entre essas margens</strong>, como uma <code>border</code> ou <code>padding</code> do elemento pai, haverá também a junção das margens. Por exemplo, se temos um elemento pai com <code>margin-bottom</code> e seu último filho também tem <code>margin-bottom</code>, é preciso que haja alguma separação entre as margens para quem as duas existam.</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>A margem deste filho é maior que a do pai e vai substitui-la.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outsider<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>A margem acima é apenas a o filho, de 2em.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lavender<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.child</span> <span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 3px indigo<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> indigo<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.outsider</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 3px purple<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> purple<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 cLRvim result"><div><div class="parent">
  <div class="child">A margem deste filho é maior que a do pai e vai substitui-la.</div>
</div>

<div class="outsider">A margem acima é apenas a o filho, de 2em.</div></div></div></div><p>No exemplo acima, temos um elemento <code>.parent</code> que tem uma <code>margin-bottom</code> de <code>1em</code>. Seu filho, <code>.child</code>, também tem uma <code>margin-bottom</code>, que neste caso é maior que a do pai (<code>2em</code>). Como nos outros exemplos, a maior margem vai prevalecer. Mas é interessante notar que a margem maior <strong>é aplicada ao parente e não ao descendente</strong>, ou seja, ela existe do lado de fora do pai. Por isso que a cor de fundo do elemento pai não se estende abaixo do filho.</p><p>Se separássemos as margens do pai e do filho, por exemplo, colocando uma borda no elemento pai, essas margens não se juntariam mais. Vamos testar modificando o exemplo anterior:</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>A margem deste filho é maior que a do pai mas agora elas estão separadas.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outsider<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Existem duas margens acima, de 2em no filho e 1em no pai.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 3px orange<span class="token punctuation">;</span> <span class="token comment">/* Isso separa as margens */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lemonchiffon<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.child</span> <span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 3px peru<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> peru<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.outsider</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 3px sandybrown<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> sandybrown<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 eduKqj result"><div><div class="parent">
  <div class="child">A margem deste filho é maior que a do pai mas agora elas estão separadas.</div>
</div>

<div class="outsider">Existem duas margens acima, de 2em no filho e 1em no pai.</div></div></div></div><p>Outros itens que separem as duas margens também impediriam o margin collapsing de acontecer, como um <code>padding</code> no elemento pai, um elemento inline (como um texto) após o elemento filho (mas ainda dentro do pai), uma altura (<code>height</code> ou <code>min-height</code>) no elemento pai que separe as duas margens, e por aí vai.</p><h2>Um bloco sem conteúdo</h2><p>Um elemento que esteja vazio, ou seja, que não tenha <code>padding</code>, <code>border</code>, altura ou conteúdo inline como texto, caso tenha margens, estas estarão adjacentes, pois não haverá nada para separar a <code>margin-top</code> da <code>margin-bottom</code> do elemento. Neste caso, o margin collapsing vai acontecer. Vamos de exemplo:</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> steelblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.empty</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 gEqCjx result"><div><div class="bar"></div>
<div class="empty"></div>
<div class="bar"></div></div></div></div><p>Neste caso, o elemento <code>.empty</code> possui margem superior e inferior de <code>1em</code> cada. Porém, como ele não tem nenhum conteúdo, essas duas margens se encostam e viram uma só com o tamanho da maior (como são iguais, a margem resultante é <code>1em</code>). O resultado é bem similar ao primeiro exemplo, mas dessa vez o margin collapsing aconteceu entre duas margens do mesmo elemento, ao invés de elementos irmãos.</p><p>Assim como no exemplo antes deste, se o elemento vazio separar as margens de alguma maneira (e deixar de ser vazio, no caso), as duas passarão a existir separadamente:</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>not-empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> crimson<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.not-empty</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span> <span class="token comment">/* Isso separa as margens */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 bQbMAC result"><div><div class="bar"></div>
<div class="not-empty"></div>
<div class="bar"></div></div></div></div><p>A mudança no exemplo acima foi apenas a adição de uma altura, neste caso de apenas <code>1px</code>. Isso é suficiente para separar as duas margens e impedir o margin collapsing. Eu coloquei uma <code>background-color</code> apenas para facilitar a visualização das duas margens separadas, mas <strong>ela não faz diferença no margin collapsing</strong>. Mesmo sem a cor, as bordas estariam separadas por conta da altura. Um texto dentro do elemento seria também evitaria que as bordas se juntassem.</p><h2>Alguns detalhes a mais</h2><p>Nos exemplos deste post, vimos que duas margens imediatamente adjacentes vão ser juntadas em uma só e o tamanho da margem resultante é o maior tamanho entre elas. Mas este efeito não é limitado a duas margens apenas. Podemos, por exemplo, combinar todos os casos acima para mostrar várias margens que vão ser juntas em uma só:</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> limegreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.empty</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 lhDIwq result"><div><div class="bar"></div>
<div class="empty"></div>
<div class="empty"></div>
<div class="empty"></div>
<div class="empty">
  <div class="empty"></div>
  <div class="empty"></div>
</div>
<div class="empty"></div>
<div class="bar"></div></div></div></div><p>Pra finalizar, vale mencionar que as margens afetadas por este efeito nem sempre serão positivas. Por exemplo, podemos ter um elemento filho com margem positiva e um elemento pai com <strong>margem zero</strong>: o margin collapsing vai colocar a margem positiva <strong>no pai</strong> caso o filho seja o último elemento do pai e não haja nada separando a margem dele do ponto em que a margem (originalmente zero) do pai deveria estar.</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Este filho tem margem, mas ela vai ser aplicada no pai.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outsider<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>A margem do filho foi aplicada acima.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token comment">/* Zero */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lavenderblush<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.child</span> <span class="token punctuation">{</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 3px mediumvioletred<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> mediumvioletred<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.outsider</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid 3px orchid<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> orchid<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 eAmAkV result"><div><div class="parent">
  <div class="child">Este filho tem margem, mas ela vai ser aplicada no pai.</div>
</div>

<div class="outsider">A margem do filho foi aplicada acima.</div></div></div></div><p>Se você usar o inspetor no exemplo acima, vai ver que a altura do pai não aumentou para acomodar a margem do filho (e, por isso, a cor de fundo do pai não se estende além da altura do filho).</p><p>E quanto a <strong>margens negativas</strong>? Elas existem, e são confusas ao ponto de merecer uma discussão separada só sobre elas. Mas, especificamente no caso de margin collapsing, há duas possibilidades.</p><p>Se houver margens positivas e negativas, a margem resultante e a soma da maior margem com a menor margem (a &quot;mais positiva&quot; + a &quot;mais negativa&quot;). No exemplo abaixo, temos como margem resultante entre os elementos <code>1em + (-2em) = -1em</code>.</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 3em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.top</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span> <span class="token comment">/* Positiva */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightseagreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.bottom</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 5em<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -2em<span class="token punctuation">;</span> <span class="token comment">/* Negativa */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightgreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 daYkRh result"><div><div class="bar top"></div>
<div class="bar bottom"></div></div></div></div><p>Se houver apenas margens negativas, a margem resultante é a menor margem (a &quot;mais negativa&quot; entre elas). No próximo exemplo, a menor (mais negativa) entre <code>-1em</code> e <code>-2em</code> vai prevalecer, tendo como margem resultante <code>-2em</code>.</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 3em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.top</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> -1em<span class="token punctuation">;</span> <span class="token comment">/* Negativa */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> olivedrab<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.bottom</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 5em<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -2em<span class="token punctuation">;</span> <span class="token comment">/* Negativa */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> yellowgreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 hnjjwA result"><div><div class="bar top"></div>
<div class="bar bottom"></div></div></div></div><p>Quando você não sabe que margin collapsing existe, ela te pega de surpresa e você pode passar horas para tentar entender pra onde suas margens estão desaparecendo. Mas não tem muito mistério quando você entende o funcionamento! Espero que os exemplos deste post tenham sido mais esclarecedores do que confusos 😅. Se quiser ler mais, a <a href="https://developer.mozilla.org/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing">documentação de margin collapsing na MDN</a> fala destes casos e tem links para algumas definições mais específicas do que pode ou não separar duas margens.</p><hr/><h2>Topa um exercício?</h2><p>Aqui vão alguns exemplos de código para você praticar o que vimos acima, se quiser.</p><h3>Qual é o espaçamento entre as barras?</h3><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> tomato<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="MarkdownRendererstyles__QuizAnswersContainer-i4h55e-3 gekmhB"></div><div class="MarkdownRendererstyles__QuizExplanationContainer-i4h55e-5 bncLWn"></div><h3>O que causaria um espaçamento de pelo menos <code>2em</code> entre as barras?</h3><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>empty<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> steelblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.empty</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="MarkdownRendererstyles__QuizAnswersContainer-i4h55e-3 gekmhB"></div><div class="MarkdownRendererstyles__QuizExplanationContainer-i4h55e-5 bncLWn"></div><h3>Qual é o resultado deste código?</h3><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bar bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-css"><code class="language-css"><span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 3em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.top</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> -1em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> olivedrab<span class="token punctuation">;</span> <span class="token comment">/* Verde-escuro */</span>
<span class="token punctuation">}</span>

<span class="token selector">.bottom</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 5em<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -3em<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> yellowgreen<span class="token punctuation">;</span> <span class="token comment">/* Verde-claro */</span>
<span class="token punctuation">}</span></code></pre><div class="MarkdownRendererstyles__QuizAnswersContainer-i4h55e-3 gekmhB"></div><div class="MarkdownRendererstyles__QuizExplanationContainer-i4h55e-5 bncLWn"></div></div><hr/><div class="Poststyles__AfterPost-sc-12qb97v-0 tuaWG"><p class="Poststyles__AfterPostChild-sc-12qb97v-1 gkeqUt">Gostou? <a href="https://twitter.com/intent/tweet?text=%22Desmistificando%20o%20margin%20collapsing%20do%20CSS%22%20por%20%40Cisneiros%0A%0Ahttps%3A%2F%2Fblog.cisne.dev%2Fdesmistificando-o-margin-collapsing-do-css" target="_blank" rel="noopener noreferrer">Que tal compartilhar?</a></p><p class="Poststyles__AfterPostChild-sc-12qb97v-1 Poststyles__Tags-sc-12qb97v-2 fAvgXR">Tags: <span class="Poststyles__Tag-sc-12qb97v-3 kSZCZX"><a href="/tag/css">css</a></span><span class="Poststyles__Tag-sc-12qb97v-3 kSZCZX"><a href="/tag/frontend">frontend</a></span></p></div></article></div></div></main><footer class="Footer__Container-b3q04c-0 gdHjSq"><div class="ui__Fit-prwz6b-0 Footer__FooterFit-b3q04c-1 layJcq"><p>© <a href="https://cisne.dev">Alexandre Cisneiros</a></p><p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a></p></div></footer></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/containers/post\",\"sharedHashesByProp\":{},\"data\":{\"postData\":{\"title\":\"Desmistificando o margin collapsing do CSS\",\"date\":\"2020-08-03T00:00:00-03:00\",\"slug\":\"desmistificando-o-margin-collapsing-do-css\",\"tags\":[\"css\",\"frontend\"],\"filePath\":\"2020-08-03-desmistificando-o-margin-collapsing-do-css.md\",\"content\":\"Um comportamento que de vez em quando me pega desprevinido de CSS \u00E9 o _margin collapsing_ (literalmente, \\\"desmoronamento das margens\\\", na falta de uma tradu\u00E7\u00E3o melhor), que \u00E9 a combina\u00E7\u00E3o de duas margens adjacentes em uma s\u00F3. \u00C9 algo que faz parte da especifica\u00E7\u00E3o mas muitas vezes passa despercebido. Agora, quando isso interfere no que queremos fazer, se voc\u00EA n\u00E3o souber o que \u00E9 e como funciona, vai quebrar a cabe\u00E7a para desvendar **por que suas margens desaparecem**. Trouxe a defini\u00E7\u00E3o de em quais casos suas margens podem sumir e alguns exemplos para ajudar a visualizar cada um!\\n\\n\u003C!-- summary-break -->\\n\\nVamos come\u00E7ar definindo o que \u00E9 margin collapsing: \u00E9 a jun\u00E7\u00E3o de duas margens adjacentes de CSS em uma s\u00F3, **resultando apenas na maior das margens existindo**. Ou seja, nesta situa\u00E7\u00E3o, uma das duas margens adjacentes vai **desaparecer**.\\n\\nH\u00E1 tr\u00EAs situa\u00E7\u00F5es em que estas margens adjacentes s\u00E3o criadas. Vamos olhar cada uma delas.\\n\\n## Elementos irm\u00E3os adjacentes\\n\\nSe voc\u00EA tem dois elementos imediatamente adjacentes, ou seja, sem nada entre eles, e ambos t\u00EAm margens que se encostam (por exemplo, o de cima tem `margin-bottom` e o de baixo tem `margin-top`), estas margens ser\u00E3o combinadas e uma delas vai se perder (a menor). Vamos ver um exemplo:\\n\\n:::live\\n```html\\n<div class=\\\"bar\\\"></div>\\n<div class=\\\"bar\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  margin: 1em 0;\\n  width: 10em;\\n  height: 1em;\\n  background-color: tomato;\\n}\\n```\\n:::/live\\n\\nNo exemplo acima, temos duas `div`s que t\u00EAm `1em` de altura. Elas tamb\u00E9m tem o mesmo tamanho (`1em`) de margem para cima e para baixo. Talvez voc\u00EA esperasse que, como o elemento de cima tem uma margem de `1em` para baixo e o elemento de baixo tem uma margem de `1em` para cima, que o espa\u00E7amento resultante fosse a soma, ou seja, `2em`. Isso n\u00E3o acontece, e voc\u00EA pode notar que a separa\u00E7\u00E3o entre os elementos tem o mesmo tamanho que a altura de cada um eles.\\n\\nO tamanho das margens n\u00E3o precisa ser o mesmo, como foi no exemplo. Caso as margens tenham tamanhos diferentes, a maior vai prevalecer, como podemos ver abaixo:\\n\\n:::live\\n```html\\n<div class=\\\"bar top\\\"></div>\\n<div class=\\\"bar bottom\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  width: 10em;\\n  height: 1em;\\n  background-color: forestgreen;\\n}\\n\\n.top {\\n  margin-bottom: 1em;\\n}\\n\\n.bottom {\\n  margin-top: 2em; /* Esta \u00E9 maior */\\n}\\n```\\n:::/live\\n\\nNeste caso, a margem resultante foi `2em` (e n\u00E3o `3em` que seria caso fossem somadas). Essa diferen\u00E7a de tamanho \u00E9 um pouco mais chata de perceber s\u00F3 olhando, mas se voc\u00EA estiver num PC, use o inspetor do navegador para verificar e confirmar o tamanho da margem resultante.\\n\\n## Pai e filho sem separa\u00E7\u00E3o\\n\\nQuando um elemento pai tem uma margem que est\u00E1 adjacente a margem de um elemento filho e **n\u00E3o h\u00E1 nada entre essas margens**, como uma `border` ou `padding` do elemento pai, haver\u00E1 tamb\u00E9m a jun\u00E7\u00E3o das margens. Por exemplo, se temos um elemento pai com `margin-bottom` e seu \u00FAltimo filho tamb\u00E9m tem `margin-bottom`, \u00E9 preciso que haja alguma separa\u00E7\u00E3o entre as margens para quem as duas existam.\\n\\n:::live\\n```html\\n<div class=\\\"parent\\\">\\n  <div class=\\\"child\\\">A margem deste filho \u00E9 maior que a do pai e vai substitui-la.</div>\\n</div>\\n\\n<div class=\\\"outsider\\\">A margem acima \u00E9 apenas a o filho, de 2em.</div>\\n```\\n\\n```css\\n.parent {\\n  margin-bottom: 1em;\\n  background-color: lavender;\\n}\\n\\n.child {\\n  margin-bottom: 2em;\\n  border: solid 3px indigo;\\n  color: indigo;\\n}\\n\\n.outsider {\\n  border: solid 3px purple;\\n  color: purple;\\n}\\n```\\n:::/live\\n\\nNo exemplo acima, temos um elemento `.parent` que tem uma `margin-bottom` de `1em`. Seu filho, `.child`, tamb\u00E9m tem uma `margin-bottom`, que neste caso \u00E9 maior que a do pai (`2em`). Como nos outros exemplos, a maior margem vai prevalecer. Mas \u00E9 interessante notar que a margem maior **\u00E9 aplicada ao parente e n\u00E3o ao descendente**, ou seja, ela existe do lado de fora do pai. Por isso que a cor de fundo do elemento pai n\u00E3o se estende abaixo do filho.\\n\\nSe separ\u00E1ssemos as margens do pai e do filho, por exemplo, colocando uma borda no elemento pai, essas margens n\u00E3o se juntariam mais. Vamos testar modificando o exemplo anterior:\\n\\n:::live\\n```html\\n<div class=\\\"parent\\\">\\n  <div class=\\\"child\\\">A margem deste filho \u00E9 maior que a do pai mas agora elas est\u00E3o separadas.</div>\\n</div>\\n\\n<div class=\\\"outsider\\\">Existem duas margens acima, de 2em no filho e 1em no pai.</div>\\n```\\n\\n```css\\n.parent {\\n  margin-bottom: 1em;\\n  border: solid 3px orange; /* Isso separa as margens */\\n  background-color: lemonchiffon;\\n}\\n\\n.child {\\n  margin-bottom: 2em;\\n  border: solid 3px peru;\\n  color: peru;\\n}\\n\\n.outsider {\\n  border: solid 3px sandybrown;\\n  color: sandybrown;\\n}\\n```\\n:::/live\\n\\nOutros itens que separem as duas margens tamb\u00E9m impediriam o margin collapsing de acontecer, como um `padding` no elemento pai, um elemento inline (como um texto) ap\u00F3s o elemento filho (mas ainda dentro do pai), uma altura (`height` ou `min-height`) no elemento pai que separe as duas margens, e por a\u00ED vai.\\n\\n## Um bloco sem conte\u00FAdo\\n\\nUm elemento que esteja vazio, ou seja, que n\u00E3o tenha `padding`, `border`, altura ou conte\u00FAdo inline como texto, caso tenha margens, estas estar\u00E3o adjacentes, pois n\u00E3o haver\u00E1 nada para separar a `margin-top` da `margin-bottom` do elemento. Neste caso, o margin collapsing vai acontecer. Vamos de exemplo:\\n\\n:::live\\n```html\\n<div class=\\\"bar\\\"></div>\\n<div class=\\\"empty\\\"></div>\\n<div class=\\\"bar\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  width: 10em;\\n  height: 1em;\\n  background-color: steelblue;\\n}\\n\\n.empty {\\n  margin: 1em 0;\\n}\\n```\\n:::/live\\n\\nNeste caso, o elemento `.empty` possui margem superior e inferior de `1em` cada. Por\u00E9m, como ele n\u00E3o tem nenhum conte\u00FAdo, essas duas margens se encostam e viram uma s\u00F3 com o tamanho da maior (como s\u00E3o iguais, a margem resultante \u00E9 `1em`). O resultado \u00E9 bem similar ao primeiro exemplo, mas dessa vez o margin collapsing aconteceu entre duas margens do mesmo elemento, ao inv\u00E9s de elementos irm\u00E3os.\\n\\nAssim como no exemplo antes deste, se o elemento vazio separar as margens de alguma maneira (e deixar de ser vazio, no caso), as duas passar\u00E3o a existir separadamente:\\n\\n:::live\\n```html\\n<div class=\\\"bar\\\"></div>\\n<div class=\\\"not-empty\\\"></div>\\n<div class=\\\"bar\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  width: 10em;\\n  height: 1em;\\n  background-color: crimson;\\n}\\n\\n.not-empty {\\n  margin: 1em 0;\\n  height: 1px; /* Isso separa as margens */\\n  background-color: pink;\\n}\\n```\\n:::/live\\n\\nA mudan\u00E7a no exemplo acima foi apenas a adi\u00E7\u00E3o de uma altura, neste caso de apenas `1px`. Isso \u00E9 suficiente para separar as duas margens e impedir o margin collapsing. Eu coloquei uma `background-color` apenas para facilitar a visualiza\u00E7\u00E3o das duas margens separadas, mas **ela n\u00E3o faz diferen\u00E7a no margin collapsing**. Mesmo sem a cor, as bordas estariam separadas por conta da altura. Um texto dentro do elemento seria tamb\u00E9m evitaria que as bordas se juntassem.\\n\\n## Alguns detalhes a mais\\n\\nNos exemplos deste post, vimos que duas margens imediatamente adjacentes v\u00E3o ser juntadas em uma s\u00F3 e o tamanho da margem resultante \u00E9 o maior tamanho entre elas. Mas este efeito n\u00E3o \u00E9 limitado a duas margens apenas. Podemos, por exemplo, combinar todos os casos acima para mostrar v\u00E1rias margens que v\u00E3o ser juntas em uma s\u00F3:\\n\\n:::live\\n```html\\n<div class=\\\"bar\\\"></div>\\n<div class=\\\"empty\\\"></div>\\n<div class=\\\"empty\\\"></div>\\n<div class=\\\"empty\\\"></div>\\n<div class=\\\"empty\\\">\\n  <div class=\\\"empty\\\"></div>\\n  <div class=\\\"empty\\\"></div>\\n</div>\\n<div class=\\\"empty\\\"></div>\\n<div class=\\\"bar\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  width: 10em;\\n  height: 1em;\\n  background-color: limegreen;\\n}\\n\\n.empty {\\n  margin: 1em 0;\\n}\\n```\\n:::/live\\n\\nPra finalizar, vale mencionar que as margens afetadas por este efeito nem sempre ser\u00E3o positivas. Por exemplo, podemos ter um elemento filho com margem positiva e um elemento pai com **margem zero**: o margin collapsing vai colocar a margem positiva **no pai** caso o filho seja o \u00FAltimo elemento do pai e n\u00E3o haja nada separando a margem dele do ponto em que a margem (originalmente zero) do pai deveria estar.\\n\\n:::live\\n```html\\n<div class=\\\"parent\\\">\\n  <div class=\\\"child\\\">Este filho tem margem, mas ela vai ser aplicada no pai.</div>\\n</div>\\n\\n<div class=\\\"outsider\\\">A margem do filho foi aplicada acima.</div>\\n```\\n\\n```css\\n.parent {\\n  margin-bottom: 0; /* Zero */\\n  background-color: lavenderblush;\\n}\\n\\n.child {\\n  margin-bottom: 2em;\\n  border: solid 3px mediumvioletred;\\n  color: mediumvioletred;\\n}\\n\\n.outsider {\\n  border: solid 3px orchid;\\n  color: orchid;\\n}\\n```\\n:::/live\\n\\nSe voc\u00EA usar o inspetor no exemplo acima, vai ver que a altura do pai n\u00E3o aumentou para acomodar a margem do filho (e, por isso, a cor de fundo do pai n\u00E3o se estende al\u00E9m da altura do filho).\\n\\nE quanto a **margens negativas**? Elas existem, e s\u00E3o confusas ao ponto de merecer uma discuss\u00E3o separada s\u00F3 sobre elas. Mas, especificamente no caso de margin collapsing, h\u00E1 duas possibilidades.\\n\\nSe houver margens positivas e negativas, a margem resultante e a soma da maior margem com a menor margem (a \\\"mais positiva\\\" + a \\\"mais negativa\\\"). No exemplo abaixo, temos como margem resultante entre os elementos `1em + (-2em) = -1em`.\\n\\n:::live\\n```html\\n<div class=\\\"bar top\\\"></div>\\n<div class=\\\"bar bottom\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  height: 3em;\\n}\\n\\n.top {\\n  width: 10em;\\n  margin-bottom: 1em; /* Positiva */\\n  background-color: lightseagreen;\\n}\\n\\n.bottom {\\n  width: 5em;\\n  margin-top: -2em; /* Negativa */\\n  background-color: lightgreen;\\n}\\n```\\n:::/live\\n\\nSe houver apenas margens negativas, a margem resultante \u00E9 a menor margem (a \\\"mais negativa\\\" entre elas). No pr\u00F3ximo exemplo, a menor (mais negativa) entre `-1em` e `-2em` vai prevalecer, tendo como margem resultante `-2em`.\\n\\n:::live\\n```html\\n<div class=\\\"bar top\\\"></div>\\n<div class=\\\"bar bottom\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  height: 3em;\\n}\\n\\n.top {\\n  width: 10em;\\n  margin-bottom: -1em; /* Negativa */\\n  background-color: olivedrab;\\n}\\n\\n.bottom {\\n  width: 5em;\\n  margin-top: -2em; /* Negativa */\\n  background-color: yellowgreen;\\n}\\n```\\n:::/live\\n\\nQuando voc\u00EA n\u00E3o sabe que margin collapsing existe, ela te pega de surpresa e voc\u00EA pode passar horas para tentar entender pra onde suas margens est\u00E3o desaparecendo. Mas n\u00E3o tem muito mist\u00E9rio quando voc\u00EA entende o funcionamento! Espero que os exemplos deste post tenham sido mais esclarecedores do que confusos \uD83D\uDE05. Se quiser ler mais, a [documenta\u00E7\u00E3o de margin collapsing na MDN](https://developer.mozilla.org/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing) fala destes casos e tem links para algumas defini\u00E7\u00F5es mais espec\u00EDficas do que pode ou n\u00E3o separar duas margens.\\n\\n---\\n\\n## Topa um exerc\u00EDcio?\\n\\nAqui v\u00E3o alguns exemplos de c\u00F3digo para voc\u00EA praticar o que vimos acima, se quiser.\\n\\n:::quiz\\n### Qual \u00E9 o espa\u00E7amento entre as barras?\\n\\n```html\\n<div class=\\\"bar\\\"></div>\\n<div class=\\\"bar\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  margin: 1em 0;\\n  width: 10em;\\n  height: 1em;\\n  background-color: tomato;\\n}\\n```\\n\\n- As barras t\u00EAm `1em` de espa\u00E7amento entre elas\\n- As barras t\u00EAm `2em` de espa\u00E7amento entre elas\\n- As barras n\u00E3o t\u00EAm espa\u00E7amento entre elas\\n\\n> A margem inferior da barra de cima vai se juntar com a margem superior da barra de baixo. A margem resultante \u00E9 a maior entre as duas (como s\u00E3o iguais, \u00E9 o valor de uma delas), ou seja, `1em`.\\n:::/quiz\\n\\n:::quiz\\n### O que causaria um espa\u00E7amento de pelo menos `2em` entre as barras?\\n\\n```html\\n<div class=\\\"bar\\\"></div>\\n<div class=\\\"empty\\\"></div>\\n<div class=\\\"bar\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  width: 10em;\\n  height: 1em;\\n  background-color: steelblue;\\n}\\n\\n.empty {\\n  margin: 1em 0;\\n}\\n```\\n\\n- Colocar um `padding` maior que zero em `.empty`\\n- Colocar mais um `div` com a classe `empty` no HTML\\n- Aumentar o `height` das barras\\n- Nenhuma das alternativas\\n\\n> O elemento com a classe `empty` n\u00E3o tem conte\u00FAdo, e suas margens superior e inferior s\u00E3o adjacentes. Isso vai junt\u00E1-las em uma \u00FAnica margem de `1em`. Caso houvesse `padding` dentro deste elemento, isso separaria as margens e as duas existiriam separadamente, deixando o espa\u00E7amento entre as barras como `2em` (mais o `padding` adicionado).\\n:::/quiz\\n\\n:::quiz\\n### Qual \u00E9 o resultado deste c\u00F3digo?\\n\\n```html\\n<div class=\\\"bar top\\\"></div>\\n<div class=\\\"bar bottom\\\"></div>\\n```\\n\\n```css\\n.bar {\\n  height: 3em;\\n}\\n\\n.top {\\n  width: 10em;\\n  margin-bottom: -1em;\\n  background-color: olivedrab; /* Verde-escuro */\\n}\\n\\n.bottom {\\n  width: 5em;\\n  margin-top: -3em;\\n  background-color: yellowgreen; /* Verde-claro */\\n}\\n```\\n\\n- ![O elemento de baixo aparece exatamente na mesma altura que o elemento de cima](/media/margin-collapsing-1.png)\\n- ![O elemento de baixo aparece um pouco mais alto que o elemento de cima](/media/margin-collapsing-2.png)\\n- ![O elemento de baixo aparece um pouco mais baixo que o elemento de cima](/media/margin-collapsing-3.png)\\n\\n> As duas margens adjacentes s\u00E3o negativas. Neste caso, apenas uma vai prevalecer, a menor entre elas (a \\\"mais negativa\\\"), que \u00E9 `-3em`. Por isso, o elemento de baixo vai subir `3em`, que \u00E9 exatamente a sua altura (e a altura do elemento de cima, tamb\u00E9m), fazendo que fique um em cima do outro. Como o elemento de baixo \u00E9 mais estreito (`width` menor), ele n\u00E3o cobre o outro totalmente e podemos ver o elemento de cima no fundo.\\n:::/quiz\\n\",\"readingTime\":11,\"summary\":\"Um comportamento que de vez em quando me pega desprevinido de CSS \u00E9 o _margin collapsing_ (literalmente, \\\"desmoronamento das margens\\\", na falta de uma tradu\u00E7\u00E3o melhor), que \u00E9 a combina\u00E7\u00E3o de duas margens adjacentes em uma s\u00F3. \u00C9 algo que faz parte da especifica\u00E7\u00E3o mas muitas vezes passa despercebido. Agora, quando isso interfere no que queremos fazer, se voc\u00EA n\u00E3o souber o que \u00E9 e como funciona, vai quebrar a cabe\u00E7a para desvendar **por que suas margens desaparecem**. Trouxe a defini\u00E7\u00E3o de em quais casos suas margens podem sumir e alguns exemplos para ajudar a visualizar cada um!\\n\\n\"}},\"path\":\"desmistificando-o-margin-collapsing-do-css\",\"sharedData\":{},\"siteData\":{}}");</script><script defer="" type="text/javascript" src="/templates/vendors~__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.207edc50.js"></script><script defer="" type="text/javascript" src="/templates/__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.a04ea84b.js"></script><script defer="" type="text/javascript" src="/templates/__react_static_root__/src/containers/post.d8dd52db.js"></script><script defer="" type="text/javascript" src="/templates/vendors~main.272ae1d1.js"></script><script defer="" type="text/javascript" src="/main.f19d4c14.js"></script></body></html>