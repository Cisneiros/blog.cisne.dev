<!DOCTYPE html><html lang="pt-BR" class=" "><head><meta name="generator" content="React Static"/><title data-react-helmet="true">Modo noturno com CSS variables ¬∑ Cisne.dev blog</title><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="Cisneiros"/><meta data-react-helmet="true" property="og:title" content="Modo noturno com CSS variables ¬∑ Cisne.dev blog"/><meta data-react-helmet="true" property="og:image" content="https://blog.cisne.dev/modo-noturno-com-css-variables/social-image.png"/><meta data-react-helmet="true" name="twitter:title" content="Modo noturno com CSS variables ¬∑ Cisne.dev blog"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.cisne.dev/modo-noturno-com-css-variables/social-image.png"/><link rel="preload" as="script" href="/templates/vendors~__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.207edc50.js"/><link rel="preload" as="script" href="/templates/__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.a04ea84b.js"/><link rel="preload" as="script" href="/templates/__react_static_root__/src/containers/post.d8dd52db.js"/><link rel="preload" as="script" href="/templates/vendors~main.272ae1d1.js"/><link rel="preload" as="script" href="/main.f19d4c14.js"/><link data-react-helmet="true" rel="stylesheet" href="//unpkg.com/dracula-prism/dist/css/dracula-prism.min.css"/><style data-styled="" data-styled-version="5.1.1">.CfxHf{max-width:960px;margin:0 auto;position:relative;}/*!sc*/
data-styled.g1[id="ui__Fit-prwz6b-0"]{content:"CfxHf,"}/*!sc*/
.iuDFSN{padding:1rem;color:var(--color-mid);text-align:center;font-size:1.5rem;}/*!sc*/
.iuDFSN a,.iuDFSN a:hover{-webkit-text-decoration:none;text-decoration:none;color:inherit;}/*!sc*/
data-styled.g2[id="Navigation__Container-sc-1yk0pqp-0"]{content:"iuDFSN,"}/*!sc*/
.izuwCZ{max-width:960px;margin:0 auto;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g3[id="Navigation__NavFit-sc-1yk0pqp-1"]{content:"izuwCZ,"}/*!sc*/
.TctaC{width:2.5rem;height:1.2em;overflow:hidden;--default-rotation:-180deg;}/*!sc*/
@media (prefers-color-scheme:dark){.TctaC{--default-rotation:0;}}/*!sc*/
data-styled.g4[id="Navigation__BrightnessContainer-sc-1yk0pqp-2"]{content:"TctaC,"}/*!sc*/
.sLeDt{-webkit-transform:rotate(var(--default-rotation));-ms-transform:rotate(var(--default-rotation));transform:rotate(var(--default-rotation));-webkit-transition:-webkit-transform 0.3s ease-out;-webkit-transition:transform 0.3s ease-out;transition:transform 0.3s ease-out;}/*!sc*/
html.light .sLeDt{-webkit-transform:rotate(-180deg);-ms-transform:rotate(-180deg);transform:rotate(-180deg);}/*!sc*/
html.dark .sLeDt{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}/*!sc*/
data-styled.g5[id="Navigation__BrightnessSpinner-sc-1yk0pqp-3"]{content:"sLeDt,"}/*!sc*/
.frsARl{background:none;border:none;cursor:pointer;}/*!sc*/
.frsARl:last-child{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}/*!sc*/
data-styled.g7[id="Navigation__BrightnessIcon-sc-1yk0pqp-5"]{content:"frsARl,"}/*!sc*/
.gdHjSq{margin-top:3rem;padding:1rem;background:var(--color-foreground);color:var(--color-background);}/*!sc*/
.gdHjSq a{color:var(--text-inverse-color-1);}/*!sc*/
.gdHjSq a:hover{color:var(--text-inverse-color-3);}/*!sc*/
data-styled.g8[id="Footer__Container-b3q04c-0"]{content:"gdHjSq,"}/*!sc*/
.layJcq{max-width:960px;margin:0 auto;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g9[id="Footer__FooterFit-b3q04c-1"]{content:"layJcq,"}/*!sc*/
*{box-sizing:border-box;margin:0;padding:0;border:0;font-size:inherit;font-weight:inherit;font-style:inherit;}/*!sc*/
:root{--color-1:#12c2e9;--color-2:#c471ed;--color-3:#f64f59;--color-1-darker:#0A7B94;--color-2-darker:#AE3CE7;--color-3-darker:#E90C1B;--color-light:#fefefe;--color-dark:#030303;--color-mid-dark:#747481;--color-mid-light:#818181;--font-weight-light:300;--font-weight-regular:400;--font-weight-heavy:500;--font-family-light:"HelveticaNeue-Light","Helvetica Neue Light",'Helvetica Neue',sans-serif;--font-family:'Helvetica Neue',sans-serif;}/*!sc*/
strong,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);}/*!sc*/
html{font-family:var(--font-family-light);font-size:20px;line-height:1;color:var(--color-foreground);background-color:var(--color-background);text-rendering:optimizeLegibility;}/*!sc*/
@media (max-width:600px){html{font-size:16px;}}/*!sc*/
html,html.light{--color-background:var(--color-light);--color-foreground:var(--color-dark);--color-mid:var(--color-mid-dark);--text-color-1:var(--color-1-darker);--text-color-2:var(--color-2-darker);--text-color-3:var(--color-3-darker);--text-inverse-color-1:var(--color-1);--text-inverse-color-2:var(--color-2);--text-inverse-color-3:var(--color-3);}/*!sc*/
html.dark{--color-background:var(--color-dark);--color-foreground:var(--color-light);--color-mid:var(--color-mid-light);--text-color-1:var(--color-1);--text-color-2:var(--color-2);--text-color-3:var(--color-3);--text-inverse-color-1:var(--color-1-darker);--text-inverse-color-2:var(--color-2-darker);--text-inverse-color-3:var(--color-3-darker);}/*!sc*/
@media (prefers-color-scheme:dark){html{--color-background:var(--color-dark);--color-foreground:var(--color-light);--color-mid:var(--color-mid-light);}}/*!sc*/
body{font-size:1em;font-weight:var(--font-weight-light);}/*!sc*/
strong{font-weight:var(--font-weight-heavy);}/*!sc*/
em{font-style:italic;}/*!sc*/
main{padding:1rem;}/*!sc*/
hr{width:30%;margin:4rem auto;border:none;border-bottom:dotted 1px var(--color-1);}/*!sc*/
.pagination{text-align:center;}/*!sc*/
.pagination a{color:var(--text-color-1);}/*!sc*/
.pagination a:hover{color:var(--text-color-3);}/*!sc*/
a{color:var(--text-color-1);-webkit-text-decoration-color:#c471ed80;text-decoration-color:#c471ed80;-webkit-text-decoration-style:wavy;text-decoration-style:wavy;}/*!sc*/
a:hover{color:var(--text-color-3);-webkit-text-decoration-color:#12c2e980;text-decoration-color:#12c2e980;}/*!sc*/
.phone-mockup{max-width:15rem;margin:0 auto 1rem;position:relative;}/*!sc*/
.phone-mockup::before{content:'';width:100%;height:100%;position:absolute;pointer-events:none;background:url(/iphone-11-pro.png) no-repeat;background-size:contain;}/*!sc*/
.phone-mockup video,.phone-mockup img{width:100%;padding:9.3%;}/*!sc*/
data-styled.g14[id="sc-global-hFBrmQ1"]{content:"sc-global-hFBrmQ1,"}/*!sc*/
.jLFdFk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.jLFdFk .sources{width:100%;min-width:0;}/*!sc*/
.jLFdFk .result{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:30%;margin-left:2rem;}/*!sc*/
.jLFdFk.result-first{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}/*!sc*/
.jLFdFk.result-first .result{-webkit-order:0;-ms-flex-order:0;order:0;margin:0 0 1rem;max-width:initial;}/*!sc*/
.jLFdFk.result-first .sources{-webkit-order:1;-ms-flex-order:1;order:1;}/*!sc*/
@media (max-width:600px){.jLFdFk{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.jLFdFk .result{max-width:initial;margin-left:0;margin-top:1rem;}}/*!sc*/
data-styled.g16[id="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1"]{content:"jLFdFk,"}/*!sc*/
.bqtrOq #root-1{--color-light:#e0e0ff;--color-dark:#050535;--icon-light:'‚òÄÔ∏è';--icon-dark:'üåô';--color-background:var(--color-light);--color-foreground:var(--color-dark);--icon:var(--icon-light);color:var(--color-foreground);background-color:var(--color-background);padding:1em;border-radius:1em;}/*!sc*/
.bqtrOq #root-1::before{content:var(--icon);}/*!sc*/
@media (prefers-color-scheme:dark){.bqtrOq #root-1{--color-background:var(--color-dark);--color-foreground:var(--color-light);--icon:var(--icon-dark);}}/*!sc*/
.iVQucc #root-2{--color-light:#e0e0ff;--color-dark:#050535;--icon-light:'‚òÄÔ∏è';--icon-dark:'üåô';color:var(--color-foreground);background-color:var(--color-background);padding:1em;border-radius:1em;cursor:pointer;}/*!sc*/
.iVQucc #root-2::before{content:var(--icon);}/*!sc*/
.iVQucc #root-2,.iVQucc #root-2.light{--color-background:var(--color-light);--color-foreground:var(--color-dark);--icon:var(--icon-light);}/*!sc*/
.iVQucc #root-2.dark{--color-background:var(--color-dark);--color-foreground:var(--color-light);--icon:var(--icon-dark);}/*!sc*/
@media (prefers-color-scheme:dark){.iVQucc #root-2{--color-background:var(--color-dark);--color-foreground:var(--color-light);--icon:var(--icon-dark);}}/*!sc*/
data-styled.g22[id="MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0"]{content:"bqtrOq,iVQucc,"}/*!sc*/
.tuaWG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
@media (max-width:600px){.tuaWG{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}/*!sc*/
data-styled.g23[id="Poststyles__AfterPost-sc-12qb97v-0"]{content:"tuaWG,"}/*!sc*/
.gkeqUt{-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
@media (max-width:600px){.gkeqUt{text-align:center;margin-bottom:1rem;}}/*!sc*/
data-styled.g24[id="Poststyles__AfterPostChild-sc-12qb97v-1"]{content:"gkeqUt,"}/*!sc*/
.fAvgXR{-webkit-flex:1;-ms-flex:1;flex:1;text-align:right;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}/*!sc*/
@media (max-width:600px){.fAvgXR{text-align:center;margin-bottom:1rem;}}/*!sc*/
data-styled.g25[id="Poststyles__Tags-sc-12qb97v-2"]{content:"fAvgXR,"}/*!sc*/
.kSZCZX::before{content:' #';color:var(--color-mid);}/*!sc*/
data-styled.g26[id="Poststyles__Tag-sc-12qb97v-3"]{content:"kSZCZX,"}/*!sc*/
.kyWzPB{-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;}/*!sc*/
data-styled.g27[id="Poststyles__Container-sc-12qb97v-4"]{content:"kyWzPB,"}/*!sc*/
.hhBwVH{font-size:5rem;font-weight:var(--font-weight-regular);line-height:0.8;background:linear-gradient(var(--color-1),var(--color-2),var(--color-3));-webkit-text-fill-color:transparent;background-clip:text;-webkit-background-clip:text;padding-bottom:1rem;margin:1rem 0;}/*!sc*/
html.rainbow .hhBwVH{background-image:linear-gradient(124deg,#ff2400,#e81d1d,#e8b71d,#e3e81d,#1de840,#1ddde8,#2b1de8,#dd00f3,#dd00f3);-webkit-animation:hTUzwZ 9s ease infinite;animation:hTUzwZ 9s ease infinite;background-size:450% 450%;}/*!sc*/
@media (max-width:600px){.hhBwVH{font-size:3.5rem;}}/*!sc*/
.hhBwVH a{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g28[id="Poststyles__Title-sc-12qb97v-5"]{content:"hhBwVH,"}/*!sc*/
.fonWHZ{color:var(--color-mid);text-align:center;margin-bottom:2rem;}/*!sc*/
data-styled.g29[id="Poststyles__Meta-sc-12qb97v-6"]{content:"fonWHZ,"}/*!sc*/
.jhgzPU{line-height:1.6;}/*!sc*/
.jhgzPU h2{font-size:2.5rem;}/*!sc*/
.jhgzPU h3{font-size:2rem;}/*!sc*/
.jhgzPU h4{font-size:1.5rem;}/*!sc*/
.jhgzPU h2,.jhgzPU h3,.jhgzPU h4,.jhgzPU h5,.jhgzPU h6{-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;font-weight:var(--font-weight-regular);line-height:0.8;padding-bottom:1rem;margin-top:2rem;}/*!sc*/
.jhgzPU img{max-width:100%;}/*!sc*/
.jhgzPU pre.refractor{margin-top:0;margin-left:0;padding-left:1rem;border-left:solid 0.25rem var(--color-1);border-radius:0;font-size:0.8rem;overflow-wrap:normal;overflow-x:auto;background-color:var(--color-dark);color:var(--color-light);padding-top:0.5rem;padding-bottom:0.5rem;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}/*!sc*/
.jhgzPU pre.refractor::-webkit-scrollbar{width:0.25rem;height:0.25rem;}/*!sc*/
.jhgzPU pre.refractor code,.jhgzPU code{font-family:'Fira Code','Menlo',monospace;}/*!sc*/
.jhgzPU p code{color:var(--text-color-3);}/*!sc*/
.jhgzPU p code,.jhgzPU h1 code,.jhgzPU h2 code,.jhgzPU h3 code,.jhgzPU h4 code,.jhgzPU h5 code,.jhgzPU h6 code{font-size:0.9em;}/*!sc*/
.jhgzPU p,.jhgzPU pre,.jhgzPU ul,.jhgzPU ol,.jhgzPU table,.jhgzPU blockquote,.jhgzPU .live-code-container{margin-bottom:1rem;}/*!sc*/
.jhgzPU twitter-widget{margin-bottom:1rem !important;}/*!sc*/
.jhgzPU p:last-child,.jhgzPU pre:last-child,.jhgzPU ul:last-child,.jhgzPU ol:last-child,.jhgzPU table:last-child,.jhgzPU blockquote:last-child,.jhgzPU .live-code-container:last-child{margin-bottom:0;}/*!sc*/
.jhgzPU ul,.jhgzPU ol{list-style:none;margin-left:1rem;counter-reset:li;}/*!sc*/
.jhgzPU li{counter-increment:li;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.jhgzPU ul li::before{content:'‚Ä¢';margin-right:0.5rem;color:var(--color-2);}/*!sc*/
.jhgzPU ol li::before{content:"."counter(li);margin-right:0.5rem;color:var(--color-2);font-weight:var(--font-weight-regular);width:1em;display:inline-block;margin-left:-0.5em;margin-right:0.5em;text-align:right;direction:rtl;}/*!sc*/
.jhgzPU table{margin-left:auto;margin-right:auto;border-spacing:0;font-size:0.9em;}/*!sc*/
.jhgzPU td,.jhgzPU th{border-bottom:solid 1px var(--color-2);padding:0.5rem;}/*!sc*/
.jhgzPU th{font-weight:var(--font-weight-heavy);}/*!sc*/
.jhgzPU tr:hover{background:var(--color-2);}/*!sc*/
.jhgzPU tr:last-of-type td{border-bottom:0;}/*!sc*/
.jhgzPU blockquote{padding-left:1rem;border-left:solid 0.25rem var(--color-3);color:var(--color-mid);}/*!sc*/
data-styled.g30[id="Poststyles__Content-sc-12qb97v-7"]{content:"jhgzPU,"}/*!sc*/
.jjKdZc{position:fixed;top:0;left:0;right:0;height:0.25rem;background-color:var(--color-1);-webkit-transition:opacity 0.25s ease-out;transition:opacity 0.25s ease-out;z-index:2;}/*!sc*/
data-styled.g31[id="post__ScrollTrackerContainer-gh0jqu-0"]{content:"jjKdZc,"}/*!sc*/
@-webkit-keyframes hTUzwZ{0%{background-position:0% 82%;}50%{background-position:100% 19%;}100%{background-position:0% 82%;}}/*!sc*/
@keyframes hTUzwZ{0%{background-position:0% 82%;}50%{background-position:100% 19%;}100%{background-position:0% 82%;}}/*!sc*/
data-styled.g32[id="sc-keyframes-hTUzwZ"]{content:"hTUzwZ,"}/*!sc*/
</style><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.xml"/></head><body><div id="root"><nav class="Navigation__Container-sc-1yk0pqp-0 iuDFSN"><div class="ui__Fit-prwz6b-0 Navigation__NavFit-sc-1yk0pqp-1 izuwCZ"><p class="logo"><a href="/">Cisne.dev blog</a></p><div class="Navigation__BrightnessContainer-sc-1yk0pqp-2 TctaC"><div class="Navigation__BrightnessSpinner-sc-1yk0pqp-3 sLeDt"><button title="Mudar para modo diurno" aria-label="Mudar para modo diurno" class="Navigation__ClearButton-sc-1yk0pqp-4 Navigation__BrightnessIcon-sc-1yk0pqp-5 frsARl">üåô</button><button title="Mudar para modo noturno" aria-label="Mudar para modo noturno" class="Navigation__ClearButton-sc-1yk0pqp-4 Navigation__BrightnessIcon-sc-1yk0pqp-5 frsARl">‚òÄÔ∏è</button></div></div></div></nav><main><div class="ui__Fit-prwz6b-0 CfxHf"><div><div style="width:0%;opacity:0" class="post__ScrollTrackerContainer-gh0jqu-0 jjKdZc"></div><article class="Poststyles__Container-sc-12qb97v-4 kyWzPB"><h1 class="Poststyles__Title-sc-12qb97v-5 hhBwVH"><a href="/modo-noturno-com-css-variables/">Modo noturno com CSS variables</a></h1><p class="Poststyles__Meta-sc-12qb97v-6 fonWHZ">Publicado em <!-- -->16 jul 2020<!-- -->. Uns <!-- -->5<!-- --> minutos de leitura.</p><div class="Poststyles__Content-sc-12qb97v-7 jhgzPU content"><p>Quase todo sistema operacional hoje vem com suporte a definir um n√≠vel de &quot;brilho&quot; da interface, que geralmente tem dois valores: claro e escuro (light ou dark). As implementa√ß√µes modernas de CSS incluem suporte a verificar qual a prefer√™ncia do usu√°rio, se houver, e adaptar sua interface de acordo. Vamos implementar um modo noturno com CSS, usando CSS variables para deixar o c√≥digo mais escal√°vel e menos repetitivo!</p><span><!-- summary-break --></span><p>A ideia √© usar a <strong>media query</strong> chamada <code>preferes-color-scheme</code>. No caso do blog, defini que o modo padr√£o √© o claro e que o modo escuro vai ser ativado s√≥ se o usu√°rio definiu no sistema dele que quer esse modo. Para fins desse exemplo, vou usar uma <code>div</code> com id <code>#root-1</code>, mas nada impede de voc√™ adicionar as propriedades direto no <code>html</code>, como eu fiz na vers√£o est√°tica do c√≥digo-fonte desse blog.</p><p>Vamos definir vari√°veis para nossas cores claras e escuras. Depois, vamos criar outras vari√°veis que v√£o usar as primeiras, mas ao inv√©s de representarem uma cor, elas representam um conceito da interface, como o plano de fundo e o de frente. Por fim, usamos a media query para alterar estas vari√°veis caso o usu√°rio use um tema escuro. No exemplo abaixo, voc√™ vai ver o resulado claro ou escuro, de acordo com a configura√ß√£o do seu sistema.</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-css"><code class="language-css"><span class="token selector">#root-1</span> <span class="token punctuation">{</span>
  <span class="token comment">/* Definindo as vari√°veis */</span>
  <span class="token property">--color-light</span><span class="token punctuation">:</span> #e0e0ff<span class="token punctuation">;</span>
  <span class="token property">--color-dark</span><span class="token punctuation">:</span> #050535<span class="token punctuation">;</span>
  <span class="token property">--icon-light</span><span class="token punctuation">:</span> <span class="token string">&#x27;‚òÄÔ∏è&#x27;</span><span class="token punctuation">;</span>
  <span class="token property">--icon-dark</span><span class="token punctuation">:</span> <span class="token string">&#x27;üåô&#x27;</span><span class="token punctuation">;</span>

  <span class="token comment">/* Por padr√£o, usamos o tema claro */</span>
  <span class="token property">--color-background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-light<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--color-foreground</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--icon</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--icon-light<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-foreground<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-background<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#root-1::before</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--icon<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">#root-1</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Apenas muda as vari√°veis para o tema escuro */</span>
    <span class="token property">--color-background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">--color-foreground</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-light<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">--icon</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--icon-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>root-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
  Nulla quis augue ipsum. Aenean euismod sit amet urna sed
  pharetra. Curabitur felis turpis, tincidunt quis metus
  tincidunt, tempor molestie augue. Proin elementum viverra
  vestibulum.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 bqtrOq result"><div><div id="root-1">
  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
  Nulla quis augue ipsum. Aenean euismod sit amet urna sed
  pharetra. Curabitur felis turpis, tincidunt quis metus
  tincidunt, tempor molestie augue. Proin elementum viverra
  vestibulum.
</div></div></div></div><p>N√£o tem muito mist√©rio! Para dar um <em>tchan</em>, coloquei um pseudoelemento <code>::before</code>, definindo o conte√∫do dele tamb√©m via CSS, com os emoji de sol e lua, de acordo com o modo selecionado. Para ver a mudan√ßa, v√° nas configura√ß√µes do seu sistema operacional e ative/desative o modo noturno. <strong>Eu sei que voc√™ est√° com pregui√ßa de ir l√° trocar</strong>, ent√£o eu fiz um GIF para provar que funciona mesmo.</p><p><img src="/media/dark-mode.gif" alt="Imagem mostrando o modo noturno no macOS sendo ativado e desativado, e o resultado do exemplo acima mudando de tema corretamente"/></p><p>Como o CSS est√° em fun√ß√£o da media query, n√£o h√° uma maneira direta para o usu√°rio alterar o tema no site sem mexer na configura√ß√£o do seu sistema operacional ou navegador. Uma op√ß√£o (que eu uso no blog) √© permitir o usu√°rio <strong>trocar de tema manualmente</strong>. Nesse caso, √© preciso persistir que o usu√°rio fez a mudan√ßa e sobrescrever de alguma maneira o comportamento do CSS, ignorando o efeito da media query. Para isso, podemos usar JavaScript, adicionando uma classe no elemento raiz para determinar o tema. Como classes ter√£o uma prioridade maior que a media query, esta ser√° ignorada.</p><div class="MarkdownRendererstyles__LiveCodeContainer-i4h55e-1 jLFdFk live-code-container"><div class="sources"><pre class="refractor language-css"><code class="language-css"><span class="token selector">#root-2</span> <span class="token punctuation">{</span>
  <span class="token comment">/* Definindo as vari√°veis */</span>
  <span class="token property">--color-light</span><span class="token punctuation">:</span> #e0e0ff<span class="token punctuation">;</span>
  <span class="token property">--color-dark</span><span class="token punctuation">:</span> #050535<span class="token punctuation">;</span>
  <span class="token property">--icon-light</span><span class="token punctuation">:</span> <span class="token string">&#x27;‚òÄÔ∏è&#x27;</span><span class="token punctuation">;</span>
  <span class="token property">--icon-dark</span><span class="token punctuation">:</span> <span class="token string">&#x27;üåô&#x27;</span><span class="token punctuation">;</span>

  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-foreground<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-background<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#root-2::before</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--icon<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#root-2, #root-2.light</span> <span class="token punctuation">{</span>
  <span class="token comment">/* Por padr√£o, usamos o tema claro */</span>
  <span class="token property">--color-background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-light<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--color-foreground</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--icon</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--icon-light<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#root-2.dark</span> <span class="token punctuation">{</span>
  <span class="token comment">/* Apenas muda as vari√°veis para o tema escuro */</span>
  <span class="token property">--color-background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--color-foreground</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-light<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--icon</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--icon-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">#root-2</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Apenas muda as vari√°veis para o tema escuro */</span>
    <span class="token property">--color-background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">--color-foreground</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--color-light<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">--icon</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--icon-dark<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><pre class="refractor language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>root-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Clique aqui para mudar o tema
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="refractor language-js"><code class="language-js"><span class="token keyword">const</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#x27;#root-2&#x27;</span><span class="token punctuation">)</span>

root<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;click&#x27;</span><span class="token punctuation">,</span> <span class="token parameter">_</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&#x27;dark&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    root<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#x27;light&#x27;</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#x27;dark&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    root<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#x27;dark&#x27;</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#x27;light&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><div class="MarkdownRendererstyles__HtmlContainer-i4h55e-0 MarkdownRenderer___StyledHtmlContainer-sc-185v3us-0 iVQucc result"><div><div id="root-2">
  Clique aqui para mudar o tema
</div></div></div></div><p>Note que, se o seu sistema est√° com tema escuro selecionado, voc√™ vai precisar <strong>clicar duas vezes</strong> no exemplo para trocar de tema, na primeira intera√ß√£o. Isso acontece pois, inicialmente, n√£o h√° classe na raiz. Uma maneira de resolver isso √© tendo bot√µes separados para mudar o tema, e exibir apenas um deles de acordo com o tema atual. </p><p>Outro ponto √© que n√£o estamos <strong>persistindo</strong> a escolha do tema, ent√£o se o usu√°rio recarregar ou mudar de p√°gina, ele vai voltar para o modo claro ou escuro, de acordo com o sistema operacional. D√° para resolver isso armazenando a prefer√™ncia no <strong>local storage</strong> do naveador. √â assim que eu fa√ßo nesse blog. Quando a pessoa entra pela primeira vez, o padr√£o vai ser o do sistema dela, atrav√©s da media query. Se ela escolher trocar de tema, a op√ß√£o vai ficar salva no local storage e vai ser usada em futuras visitas.</p><p><strong>√â isso!</strong> Estou experimentando com esse formato de tutoriais com exemplos no meio do texto. Naturalmente funciona melhor com ideias bem visuais de front-end, como essa. At√© a pr√≥xima!</p></div><hr/><div class="Poststyles__AfterPost-sc-12qb97v-0 tuaWG"><p class="Poststyles__AfterPostChild-sc-12qb97v-1 gkeqUt">Gostou? <a href="https://twitter.com/intent/tweet?text=%22Modo%20noturno%20com%20CSS%20variables%22%20por%20%40Cisneiros%0A%0Ahttps%3A%2F%2Fblog.cisne.dev%2Fmodo-noturno-com-css-variables" target="_blank" rel="noopener noreferrer">Que tal compartilhar?</a></p><p class="Poststyles__AfterPostChild-sc-12qb97v-1 Poststyles__Tags-sc-12qb97v-2 fAvgXR">Tags: <span class="Poststyles__Tag-sc-12qb97v-3 kSZCZX"><a href="/tag/css">css</a></span><span class="Poststyles__Tag-sc-12qb97v-3 kSZCZX"><a href="/tag/javascript">javascript</a></span><span class="Poststyles__Tag-sc-12qb97v-3 kSZCZX"><a href="/tag/frontend">frontend</a></span></p></div></article></div></div></main><footer class="Footer__Container-b3q04c-0 gdHjSq"><div class="ui__Fit-prwz6b-0 Footer__FooterFit-b3q04c-1 layJcq"><p>¬© <a href="https://cisne.dev">Alexandre Cisneiros</a></p><p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a></p></div></footer></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/containers/post\",\"sharedHashesByProp\":{},\"data\":{\"postData\":{\"title\":\"Modo noturno com CSS variables\",\"date\":\"2020-07-16T00:00:00-03:00\",\"slug\":\"modo-noturno-com-css-variables\",\"tags\":[\"css\",\"javascript\",\"frontend\"],\"filePath\":\"2020-07-16-modo-noturno-com-css-variables.md\",\"content\":\"Quase todo sistema operacional hoje vem com suporte a definir um n\u00EDvel de \\\"brilho\\\" da interface, que geralmente tem dois valores: claro e escuro (light ou dark). As implementa\u00E7\u00F5es modernas de CSS incluem suporte a verificar qual a prefer\u00EAncia do usu\u00E1rio, se houver, e adaptar sua interface de acordo. Vamos implementar um modo noturno com CSS, usando CSS variables para deixar o c\u00F3digo mais escal\u00E1vel e menos repetitivo!\\n\\n\u003C!-- summary-break -->\\n\\nA ideia \u00E9 usar a **media query** chamada `preferes-color-scheme`. No caso do blog, defini que o modo padr\u00E3o \u00E9 o claro e que o modo escuro vai ser ativado s\u00F3 se o usu\u00E1rio definiu no sistema dele que quer esse modo. Para fins desse exemplo, vou usar uma `div` com id `#root-1`, mas nada impede de voc\u00EA adicionar as propriedades direto no `html`, como eu fiz na vers\u00E3o est\u00E1tica do c\u00F3digo-fonte desse blog.\\n\\nVamos definir vari\u00E1veis para nossas cores claras e escuras. Depois, vamos criar outras vari\u00E1veis que v\u00E3o usar as primeiras, mas ao inv\u00E9s de representarem uma cor, elas representam um conceito da interface, como o plano de fundo e o de frente. Por fim, usamos a media query para alterar estas vari\u00E1veis caso o usu\u00E1rio use um tema escuro. No exemplo abaixo, voc\u00EA vai ver o resulado claro ou escuro, de acordo com a configura\u00E7\u00E3o do seu sistema.\\n\\n:::live\\n```css\\n#root-1 {\\n  /* Definindo as vari\u00E1veis */\\n  --color-light: #e0e0ff;\\n  --color-dark: #050535;\\n  --icon-light: '\u2600\uFE0F';\\n  --icon-dark: '\uD83C\uDF19';\\n\\n  /* Por padr\u00E3o, usamos o tema claro */\\n  --color-background: var(--color-light);\\n  --color-foreground: var(--color-dark);\\n  --icon: var(--icon-light);\\n\\n  color: var(--color-foreground);\\n  background-color: var(--color-background);\\n  padding: 1em;\\n  border-radius: 1em;\\n}\\n\\n#root-1::before {\\n  content: var(--icon);\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n  #root-1 {\\n    /* Apenas muda as vari\u00E1veis para o tema escuro */\\n    --color-background: var(--color-dark);\\n    --color-foreground: var(--color-light);\\n    --icon: var(--icon-dark);\\n  }\\n}\\n```\\n```html\\n<div id=\\\"root-1\\\">\\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit.\\n  Nulla quis augue ipsum. Aenean euismod sit amet urna sed\\n  pharetra. Curabitur felis turpis, tincidunt quis metus\\n  tincidunt, tempor molestie augue. Proin elementum viverra\\n  vestibulum.\\n</div>\\n```\\n:::/live\\n\\nN\u00E3o tem muito mist\u00E9rio! Para dar um _tchan_, coloquei um pseudoelemento `::before`, definindo o conte\u00FAdo dele tamb\u00E9m via CSS, com os emoji de sol e lua, de acordo com o modo selecionado. Para ver a mudan\u00E7a, v\u00E1 nas configura\u00E7\u00F5es do seu sistema operacional e ative/desative o modo noturno. **Eu sei que voc\u00EA est\u00E1 com pregui\u00E7a de ir l\u00E1 trocar**, ent\u00E3o eu fiz um GIF para provar que funciona mesmo.\\n\\n![Imagem mostrando o modo noturno no macOS sendo ativado e desativado, e o resultado do exemplo acima mudando de tema corretamente](/media/dark-mode.gif)\\n\\nComo o CSS est\u00E1 em fun\u00E7\u00E3o da media query, n\u00E3o h\u00E1 uma maneira direta para o usu\u00E1rio alterar o tema no site sem mexer na configura\u00E7\u00E3o do seu sistema operacional ou navegador. Uma op\u00E7\u00E3o (que eu uso no blog) \u00E9 permitir o usu\u00E1rio **trocar de tema manualmente**. Nesse caso, \u00E9 preciso persistir que o usu\u00E1rio fez a mudan\u00E7a e sobrescrever de alguma maneira o comportamento do CSS, ignorando o efeito da media query. Para isso, podemos usar JavaScript, adicionando uma classe no elemento raiz para determinar o tema. Como classes ter\u00E3o uma prioridade maior que a media query, esta ser\u00E1 ignorada.\\n\\n:::live\\n```css\\n#root-2 {\\n  /* Definindo as vari\u00E1veis */\\n  --color-light: #e0e0ff;\\n  --color-dark: #050535;\\n  --icon-light: '\u2600\uFE0F';\\n  --icon-dark: '\uD83C\uDF19';\\n\\n  color: var(--color-foreground);\\n  background-color: var(--color-background);\\n  padding: 1em;\\n  border-radius: 1em;\\n  cursor: pointer;\\n}\\n\\n#root-2::before {\\n  content: var(--icon);\\n}\\n\\n#root-2, #root-2.light {\\n  /* Por padr\u00E3o, usamos o tema claro */\\n  --color-background: var(--color-light);\\n  --color-foreground: var(--color-dark);\\n  --icon: var(--icon-light);\\n}\\n\\n#root-2.dark {\\n  /* Apenas muda as vari\u00E1veis para o tema escuro */\\n  --color-background: var(--color-dark);\\n  --color-foreground: var(--color-light);\\n  --icon: var(--icon-dark);\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n  #root-2 {\\n    /* Apenas muda as vari\u00E1veis para o tema escuro */\\n    --color-background: var(--color-dark);\\n    --color-foreground: var(--color-light);\\n    --icon: var(--icon-dark);\\n  }\\n}\\n```\\n```html\\n<div id=\\\"root-2\\\">\\n  Clique aqui para mudar o tema\\n</div>\\n```\\n```js auto-run\\nconst root = document.querySelector('#root-2')\\n\\nroot.addEventListener('click', _ => {\\n  if (root.classList.contains('dark')) {\\n    root.classList.add('light')\\n    root.classList.remove('dark')\\n  } else {\\n    root.classList.add('dark')\\n    root.classList.remove('light')\\n  }\\n})\\n```\\n:::/live\\n\\nNote que, se o seu sistema est\u00E1 com tema escuro selecionado, voc\u00EA vai precisar **clicar duas vezes** no exemplo para trocar de tema, na primeira intera\u00E7\u00E3o. Isso acontece pois, inicialmente, n\u00E3o h\u00E1 classe na raiz. Uma maneira de resolver isso \u00E9 tendo bot\u00F5es separados para mudar o tema, e exibir apenas um deles de acordo com o tema atual. \\n\\nOutro ponto \u00E9 que n\u00E3o estamos **persistindo** a escolha do tema, ent\u00E3o se o usu\u00E1rio recarregar ou mudar de p\u00E1gina, ele vai voltar para o modo claro ou escuro, de acordo com o sistema operacional. D\u00E1 para resolver isso armazenando a prefer\u00EAncia no **local storage** do naveador. \u00C9 assim que eu fa\u00E7o nesse blog. Quando a pessoa entra pela primeira vez, o padr\u00E3o vai ser o do sistema dela, atrav\u00E9s da media query. Se ela escolher trocar de tema, a op\u00E7\u00E3o vai ficar salva no local storage e vai ser usada em futuras visitas.\\n\\n**\u00C9 isso!** Estou experimentando com esse formato de tutoriais com exemplos no meio do texto. Naturalmente funciona melhor com ideias bem visuais de front-end, como essa. At\u00E9 a pr\u00F3xima!\\n\",\"readingTime\":5,\"summary\":\"Quase todo sistema operacional hoje vem com suporte a definir um n\u00EDvel de \\\"brilho\\\" da interface, que geralmente tem dois valores: claro e escuro (light ou dark). As implementa\u00E7\u00F5es modernas de CSS incluem suporte a verificar qual a prefer\u00EAncia do usu\u00E1rio, se houver, e adaptar sua interface de acordo. Vamos implementar um modo noturno com CSS, usando CSS variables para deixar o c\u00F3digo mais escal\u00E1vel e menos repetitivo!\\n\\n\"}},\"path\":\"modo-noturno-com-css-variables\",\"sharedData\":{},\"siteData\":{}}");</script><script defer="" type="text/javascript" src="/templates/vendors~__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.207edc50.js"></script><script defer="" type="text/javascript" src="/templates/__react_static_root__/src/containers/post~__react_static_root__/src/containers/postList.a04ea84b.js"></script><script defer="" type="text/javascript" src="/templates/__react_static_root__/src/containers/post.d8dd52db.js"></script><script defer="" type="text/javascript" src="/templates/vendors~main.272ae1d1.js"></script><script defer="" type="text/javascript" src="/main.f19d4c14.js"></script></body></html>